{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":72,"column":48,"index":3323}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":72,"column":48,"index":3323}}],"key":"8I802z/QkQYw0PV6ZCqhBNDwn0Q="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":72,"column":48,"index":3323}}],"key":"V6GYoXnblvuuGHJNMy7MHyaunsU="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":72,"column":48,"index":3323}}],"key":"ohGilxjVqjyE1GooDVDt9OYg9x0="}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":72,"column":48,"index":3323}}],"key":"rcd0dMwf8BS2g+8U1wyhIOxtYEo="}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":72,"column":48,"index":3323}}],"key":"4pxOr+e+5cSZAdeEKxSt3F7LoKY="}},{"name":"@babel/runtime/helpers/inherits","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":72,"column":48,"index":3323}}],"key":"EDnOjopp9yNVawSzfBRsy2dq5dM="}},{"name":"expo-modules-core","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"ka0FS6s7ZmvhJq+hEjGkLLrGpyo="}},{"name":"./NotificationsHandlerModule","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":70,"index":160}}],"key":"aEk9K/VuGbWW/Hc3/gzn36PBpNs="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.NotificationTimeoutError = void 0;\n  exports.setNotificationHandler = setNotificationHandler;\n  var _asyncToGenerator2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\"));\n  var _createClass2 = _interopRequireDefault(require(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n  var _classCallCheck2 = _interopRequireDefault(require(_dependencyMap[3], \"@babel/runtime/helpers/classCallCheck\"));\n  var _possibleConstructorReturn2 = _interopRequireDefault(require(_dependencyMap[4], \"@babel/runtime/helpers/possibleConstructorReturn\"));\n  var _getPrototypeOf2 = _interopRequireDefault(require(_dependencyMap[5], \"@babel/runtime/helpers/getPrototypeOf\"));\n  var _inherits2 = _interopRequireDefault(require(_dependencyMap[6], \"@babel/runtime/helpers/inherits\"));\n  var _expoModulesCore = require(_dependencyMap[7], \"expo-modules-core\");\n  var _NotificationsHandlerModule = _interopRequireDefault(require(_dependencyMap[8], \"./NotificationsHandlerModule\"));\n  function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }\n  function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function () { return !!t; })(); }\n  /**\n   * @hidden\n   */\n  var NotificationTimeoutError = exports.NotificationTimeoutError = /*#__PURE__*/function (_CodedError) {\n    function NotificationTimeoutError(notificationId, notification) {\n      var _this;\n      (0, _classCallCheck2.default)(this, NotificationTimeoutError);\n      _this = _callSuper(this, NotificationTimeoutError, ['ERR_NOTIFICATION_TIMEOUT', `Notification handling timed out for ID ${notificationId}.`]);\n      _this.info = {\n        id: notificationId,\n        notification\n      };\n      return _this;\n    }\n    (0, _inherits2.default)(NotificationTimeoutError, _CodedError);\n    return (0, _createClass2.default)(NotificationTimeoutError);\n  }(_expoModulesCore.CodedError); // Web uses SyntheticEventEmitter\n  var notificationEmitter = new _expoModulesCore.LegacyEventEmitter(_NotificationsHandlerModule.default);\n  var handleNotificationEventName = 'onHandleNotification';\n  var handleNotificationTimeoutEventName = 'onHandleNotificationTimeout';\n  var handleSubscription = null;\n  var handleTimeoutSubscription = null;\n  /**\n   * When a notification is received while the app is running, using this function you can set a callback that will decide\n   * whether the notification should be shown to the user or not.\n   *\n   * When a notification is received, `handleNotification` is called with the incoming notification as an argument.\n   * The function should respond with a behavior object within 3 seconds, otherwise, the notification will be discarded.\n   * If the notification is handled successfully, `handleSuccess` is called with the identifier of the notification,\n   * otherwise (or on timeout) `handleError` will be called.\n   *\n   * The default behavior when the handler is not set or does not respond in time is not to show the notification.\n   * @param handler A single parameter which should be either `null` (if you want to clear the handler) or a [`NotificationHandler`](#notificationhandler) object.\n   *\n   * @example Implementing a notification handler that always shows the notification when it is received.\n   * ```jsx\n   * import * as Notifications from 'expo-notifications';\n   *\n   * Notifications.setNotificationHandler({\n   *   handleNotification: async () => ({\n   *     shouldShowAlert: true,\n   *     shouldPlaySound: false,\n   *     shouldSetBadge: false,\n   *   }),\n   * });\n   * ```\n   * @header inForeground\n   */\n  function setNotificationHandler(handler) {\n    if (handleSubscription) {\n      handleSubscription.remove();\n      handleSubscription = null;\n    }\n    if (handleTimeoutSubscription) {\n      handleTimeoutSubscription.remove();\n      handleTimeoutSubscription = null;\n    }\n    if (handler) {\n      handleSubscription = notificationEmitter.addListener(handleNotificationEventName, /*#__PURE__*/function () {\n        var _ref2 = (0, _asyncToGenerator2.default)(function* (_ref) {\n          var id = _ref.id,\n            notification = _ref.notification;\n          if (!_NotificationsHandlerModule.default.handleNotificationAsync) {\n            handler.handleError?.(id, new _expoModulesCore.UnavailabilityError('Notifications', 'handleNotificationAsync'));\n            return;\n          }\n          try {\n            var behavior = yield handler.handleNotification(notification);\n            yield _NotificationsHandlerModule.default.handleNotificationAsync(id, behavior);\n            handler.handleSuccess?.(id);\n          } catch (error) {\n            handler.handleError?.(id, error);\n          }\n        });\n        return function (_x) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n      handleTimeoutSubscription = notificationEmitter.addListener(handleNotificationTimeoutEventName, _ref3 => {\n        var id = _ref3.id,\n          notification = _ref3.notification;\n        return handler.handleError?.(id, new NotificationTimeoutError(id, notification));\n      });\n    }\n  }\n});","lineCount":103,"map":[[14,2,1,0],[14,6,1,0,"_expoModulesCore"],[14,22,1,0],[14,25,1,0,"require"],[14,32,1,0],[14,33,1,0,"_dependencyMap"],[14,47,1,0],[15,2,2,0],[15,6,2,0,"_NotificationsHandlerModule"],[15,33,2,0],[15,36,2,0,"_interopRequireDefault"],[15,58,2,0],[15,59,2,0,"require"],[15,66,2,0],[15,67,2,0,"_dependencyMap"],[15,81,2,0],[16,2,2,70],[16,11,2,70,"_callSuper"],[16,22,2,70,"t"],[16,23,2,70],[16,25,2,70,"o"],[16,26,2,70],[16,28,2,70,"e"],[16,29,2,70],[16,40,2,70,"o"],[16,41,2,70],[16,48,2,70,"_getPrototypeOf2"],[16,64,2,70],[16,65,2,70,"default"],[16,72,2,70],[16,74,2,70,"o"],[16,75,2,70],[16,82,2,70,"_possibleConstructorReturn2"],[16,109,2,70],[16,110,2,70,"default"],[16,117,2,70],[16,119,2,70,"t"],[16,120,2,70],[16,122,2,70,"_isNativeReflectConstruct"],[16,147,2,70],[16,152,2,70,"Reflect"],[16,159,2,70],[16,160,2,70,"construct"],[16,169,2,70],[16,170,2,70,"o"],[16,171,2,70],[16,173,2,70,"e"],[16,174,2,70],[16,186,2,70,"_getPrototypeOf2"],[16,202,2,70],[16,203,2,70,"default"],[16,210,2,70],[16,212,2,70,"t"],[16,213,2,70],[16,215,2,70,"constructor"],[16,226,2,70],[16,230,2,70,"o"],[16,231,2,70],[16,232,2,70,"apply"],[16,237,2,70],[16,238,2,70,"t"],[16,239,2,70],[16,241,2,70,"e"],[16,242,2,70],[17,2,2,70],[17,11,2,70,"_isNativeReflectConstruct"],[17,37,2,70],[17,51,2,70,"t"],[17,52,2,70],[17,56,2,70,"Boolean"],[17,63,2,70],[17,64,2,70,"prototype"],[17,73,2,70],[17,74,2,70,"valueOf"],[17,81,2,70],[17,82,2,70,"call"],[17,86,2,70],[17,87,2,70,"Reflect"],[17,94,2,70],[17,95,2,70,"construct"],[17,104,2,70],[17,105,2,70,"Boolean"],[17,112,2,70],[17,145,2,70,"t"],[17,146,2,70],[17,159,2,70,"_isNativeReflectConstruct"],[17,184,2,70],[17,196,2,70,"_isNativeReflectConstruct"],[17,197,2,70],[17,210,2,70,"t"],[17,211,2,70],[18,2,3,0],[19,0,4,0],[20,0,5,0],[21,2,3,0],[21,6,6,13,"NotificationTimeoutError"],[21,30,6,37],[21,33,6,37,"exports"],[21,40,6,37],[21,41,6,37,"NotificationTimeoutError"],[21,65,6,37],[21,91,6,37,"_CodedError"],[21,102,6,37],[22,4,8,4],[22,13,8,4,"NotificationTimeoutError"],[22,38,8,16,"notificationId"],[22,52,8,30],[22,54,8,32,"notification"],[22,66,8,44],[22,68,8,46],[23,6,8,46],[23,10,8,46,"_this"],[23,15,8,46],[24,6,8,46],[24,10,8,46,"_classCallCheck2"],[24,26,8,46],[24,27,8,46,"default"],[24,34,8,46],[24,42,8,46,"NotificationTimeoutError"],[24,66,8,46],[25,6,9,8,"_this"],[25,11,9,8],[25,14,9,8,"_callSuper"],[25,24,9,8],[25,31,9,8,"NotificationTimeoutError"],[25,55,9,8],[25,58,9,14],[25,84,9,40],[25,86,9,42],[25,128,9,84,"notificationId"],[25,142,9,98],[25,145,9,101],[26,6,10,8,"_this"],[26,11,10,8],[26,12,10,13,"info"],[26,16,10,17],[26,19,10,20],[27,8,10,22,"id"],[27,10,10,24],[27,12,10,26,"notificationId"],[27,26,10,40],[28,8,10,42,"notification"],[29,6,10,55],[29,7,10,56],[30,6,10,57],[30,13,10,57,"_this"],[30,18,10,57],[31,4,11,4],[32,4,11,5],[32,8,11,5,"_inherits2"],[32,18,11,5],[32,19,11,5,"default"],[32,26,11,5],[32,28,11,5,"NotificationTimeoutError"],[32,52,11,5],[32,54,11,5,"_CodedError"],[32,65,11,5],[33,4,11,5],[33,15,11,5,"_createClass2"],[33,28,11,5],[33,29,11,5,"default"],[33,36,11,5],[33,38,11,5,"NotificationTimeoutError"],[33,62,11,5],[34,2,11,5],[34,4,6,46,"CodedError"],[34,31,6,56],[34,34,13,0],[35,2,14,0],[35,6,14,6,"notificationEmitter"],[35,25,14,25],[35,28,14,28],[35,32,14,32,"LegacyEventEmitter"],[35,67,14,50],[35,68,14,51,"NotificationsHandlerModule"],[35,103,14,77],[35,104,14,78],[36,2,15,0],[36,6,15,6,"handleNotificationEventName"],[36,33,15,33],[36,36,15,36],[36,58,15,58],[37,2,16,0],[37,6,16,6,"handleNotificationTimeoutEventName"],[37,40,16,40],[37,43,16,43],[37,72,16,72],[38,2,17,0],[38,6,17,4,"handleSubscription"],[38,24,17,22],[38,27,17,25],[38,31,17,29],[39,2,18,0],[39,6,18,4,"handleTimeoutSubscription"],[39,31,18,29],[39,34,18,32],[39,38,18,36],[40,2,19,0],[41,0,20,0],[42,0,21,0],[43,0,22,0],[44,0,23,0],[45,0,24,0],[46,0,25,0],[47,0,26,0],[48,0,27,0],[49,0,28,0],[50,0,29,0],[51,0,30,0],[52,0,31,0],[53,0,32,0],[54,0,33,0],[55,0,34,0],[56,0,35,0],[57,0,36,0],[58,0,37,0],[59,0,38,0],[60,0,39,0],[61,0,40,0],[62,0,41,0],[63,0,42,0],[64,0,43,0],[65,0,44,0],[66,2,45,7],[66,11,45,16,"setNotificationHandler"],[66,33,45,38,"setNotificationHandler"],[66,34,45,39,"handler"],[66,41,45,46],[66,43,45,48],[67,4,46,4],[67,8,46,8,"handleSubscription"],[67,26,46,26],[67,28,46,28],[68,6,47,8,"handleSubscription"],[68,24,47,26],[68,25,47,27,"remove"],[68,31,47,33],[68,32,47,34],[68,33,47,35],[69,6,48,8,"handleSubscription"],[69,24,48,26],[69,27,48,29],[69,31,48,33],[70,4,49,4],[71,4,50,4],[71,8,50,8,"handleTimeoutSubscription"],[71,33,50,33],[71,35,50,35],[72,6,51,8,"handleTimeoutSubscription"],[72,31,51,33],[72,32,51,34,"remove"],[72,38,51,40],[72,39,51,41],[72,40,51,42],[73,6,52,8,"handleTimeoutSubscription"],[73,31,52,33],[73,34,52,36],[73,38,52,40],[74,4,53,4],[75,4,54,4],[75,8,54,8,"handler"],[75,15,54,15],[75,17,54,17],[76,6,55,8,"handleSubscription"],[76,24,55,26],[76,27,55,29,"notificationEmitter"],[76,46,55,48],[76,47,55,49,"addListener"],[76,58,55,60],[76,59,55,61,"handleNotificationEventName"],[76,86,55,88],[77,8,55,88],[77,12,55,88,"_ref2"],[77,17,55,88],[77,24,55,88,"_asyncToGenerator2"],[77,42,55,88],[77,43,55,88,"default"],[77,50,55,88],[77,52,55,90],[77,63,55,90,"_ref"],[77,67,55,90],[77,69,55,122],[78,10,55,122],[78,14,55,99,"id"],[78,16,55,101],[78,19,55,101,"_ref"],[78,23,55,101],[78,24,55,99,"id"],[78,26,55,101],[79,12,55,103,"notification"],[79,24,55,115],[79,27,55,115,"_ref"],[79,31,55,115],[79,32,55,103,"notification"],[79,44,55,115],[80,10,56,12],[80,14,56,16],[80,15,56,17,"NotificationsHandlerModule"],[80,50,56,43],[80,51,56,44,"handleNotificationAsync"],[80,74,56,67],[80,76,56,69],[81,12,57,16,"handler"],[81,19,57,23],[81,20,57,24,"handleError"],[81,31,57,35],[81,34,57,38,"id"],[81,36,57,40],[81,38,57,42],[81,42,57,46,"UnavailabilityError"],[81,78,57,65],[81,79,57,66],[81,94,57,81],[81,96,57,83],[81,121,57,108],[81,122,57,109],[81,123,57,110],[82,12,58,16],[83,10,59,12],[84,10,60,12],[84,14,60,16],[85,12,61,16],[85,16,61,22,"behavior"],[85,24,61,30],[85,33,61,39,"handler"],[85,40,61,46],[85,41,61,47,"handleNotification"],[85,59,61,65],[85,60,61,66,"notification"],[85,72,61,78],[85,73,61,79],[86,12,62,16],[86,18,62,22,"NotificationsHandlerModule"],[86,53,62,48],[86,54,62,49,"handleNotificationAsync"],[86,77,62,72],[86,78,62,73,"id"],[86,80,62,75],[86,82,62,77,"behavior"],[86,90,62,85],[86,91,62,86],[87,12,63,16,"handler"],[87,19,63,23],[87,20,63,24,"handleSuccess"],[87,33,63,37],[87,36,63,40,"id"],[87,38,63,42],[87,39,63,43],[88,10,64,12],[88,11,64,13],[88,12,65,12],[88,19,65,19,"error"],[88,24,65,24],[88,26,65,26],[89,12,66,16,"handler"],[89,19,66,23],[89,20,66,24,"handleError"],[89,31,66,35],[89,34,66,38,"id"],[89,36,66,40],[89,38,66,42,"error"],[89,43,66,47],[89,44,66,48],[90,10,67,12],[91,8,68,8],[91,9,68,9],[92,8,68,9],[92,25,68,9,"_x"],[92,27,68,9],[93,10,68,9],[93,17,68,9,"_ref2"],[93,22,68,9],[93,23,68,9,"apply"],[93,28,68,9],[93,35,68,9,"arguments"],[93,44,68,9],[94,8,68,9],[95,6,68,9],[95,10,68,10],[96,6,69,8,"handleTimeoutSubscription"],[96,31,69,33],[96,34,69,36,"notificationEmitter"],[96,53,69,55],[96,54,69,56,"addListener"],[96,65,69,67],[96,66,69,68,"handleNotificationTimeoutEventName"],[96,100,69,102],[96,102,69,104,"_ref3"],[96,107,69,104],[97,8,69,104],[97,12,69,107,"id"],[97,14,69,109],[97,17,69,109,"_ref3"],[97,22,69,109],[97,23,69,107,"id"],[97,25,69,109],[98,10,69,111,"notification"],[98,22,69,123],[98,25,69,123,"_ref3"],[98,30,69,123],[98,31,69,111,"notification"],[98,43,69,123],[99,8,69,123],[99,15,69,130,"handler"],[99,22,69,137],[99,23,69,138,"handleError"],[99,34,69,149],[99,37,69,152,"id"],[99,39,69,154],[99,41,69,156],[99,45,69,160,"NotificationTimeoutError"],[99,69,69,184],[99,70,69,185,"id"],[99,72,69,187],[99,74,69,189,"notification"],[99,86,69,201],[99,87,69,202],[99,88,69,203],[100,6,69,203],[100,8,69,204],[101,4,70,4],[102,2,71,0],[103,0,71,1],[103,3]],"functionMap":{"names":["<global>","NotificationTimeoutError","NotificationTimeoutError#constructor","setNotificationHandler","notificationEmitter.addListener$argument_1"],"mappings":"AAA;OCK;ICE;KDG;CDC;OGiC;0FCU;SDa;wGCC,mGD;CHE"}},"type":"js/module"}]}