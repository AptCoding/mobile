{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":31,"column":0,"index":852}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":31,"column":0,"index":852}}],"key":"8I802z/QkQYw0PV6ZCqhBNDwn0Q="}},{"name":"~/utils/api","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":34,"index":34}}],"key":"md9Z/NrJ8VvSAlYMvkcokMJNxrs="}},{"name":"../push-notifications","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":2,"column":0,"index":35},"end":{"line":2,"column":61,"index":96}}],"key":"pQUBX9xbQw17x0A6Gr+OdEvudNQ="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useDeviceToken = useDeviceToken;\n  var _asyncToGenerator2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\"));\n  var _api = require(_dependencyMap[2], \"~/utils/api\");\n  var _pushNotifications = require(_dependencyMap[3], \"../push-notifications\");\n  var _s = $RefreshSig$();\n  function useDeviceToken() {\n    _s();\n    var _usePushNotifications = (0, _pushNotifications.usePushNotifications)(),\n      expoPushToken = _usePushNotifications.expoPushToken;\n    console.log(\"pushToken\", expoPushToken);\n    var updateDeviceToken = _api.api.mobile.deviceToken.mutate.addDeviceToken.useMutation({\n      onSuccess: () => {\n        console.log(\"Device token updated successfully\");\n      },\n      onError: error => {\n        console.error(\"Error updating device token:\", error);\n      }\n    });\n    var handleDeviceTokenUpdate = /*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator2.default)(function* () {\n        if (expoPushToken) {\n          try {\n            yield updateDeviceToken.mutateAsync({\n              expoPushToken: expoPushToken.data\n            });\n          } catch (error) {\n            console.error(\"Failed to add device token:\", error);\n          }\n        }\n      });\n      return function handleDeviceTokenUpdate() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    return {\n      handleDeviceTokenUpdate\n    };\n  }\n  _s(useDeviceToken, \"6ZurUlsEnCCwwp1Mv7Mk6Be9mHU=\", true, function () {\n    return [_pushNotifications.usePushNotifications];\n  });\n});","lineCount":47,"map":[[8,2,1,0],[8,6,1,0,"_api"],[8,10,1,0],[8,13,1,0,"require"],[8,20,1,0],[8,21,1,0,"_dependencyMap"],[8,35,1,0],[9,2,2,0],[9,6,2,0,"_pushNotifications"],[9,24,2,0],[9,27,2,0,"require"],[9,34,2,0],[9,35,2,0,"_dependencyMap"],[9,49,2,0],[10,2,2,61],[10,6,2,61,"_s"],[10,8,2,61],[10,11,2,61,"$RefreshSig$"],[10,23,2,61],[11,2,4,7],[11,11,4,16,"useDeviceToken"],[11,25,4,30,"useDeviceToken"],[11,26,4,30],[11,28,4,33],[12,4,4,33,"_s"],[12,6,4,33],[13,4,5,2],[13,8,5,2,"_usePushNotifications"],[13,29,5,2],[13,32,5,28],[13,36,5,28,"usePushNotifications"],[13,75,5,48],[13,77,5,49],[13,78,5,50],[14,6,5,10,"expoPushToken"],[14,19,5,23],[14,22,5,23,"_usePushNotifications"],[14,43,5,23],[14,44,5,10,"expoPushToken"],[14,57,5,23],[15,4,6,2,"console"],[15,11,6,9],[15,12,6,10,"log"],[15,15,6,13],[15,16,6,14],[15,27,6,25],[15,29,6,27,"expoPushToken"],[15,42,6,40],[15,43,6,41],[16,4,8,2],[16,8,8,8,"updateDeviceToken"],[16,25,8,25],[16,28,9,4,"api"],[16,36,9,7],[16,37,9,8,"mobile"],[16,43,9,14],[16,44,9,15,"deviceToken"],[16,55,9,26],[16,56,9,27,"mutate"],[16,62,9,33],[16,63,9,34,"addDeviceToken"],[16,77,9,48],[16,78,9,49,"useMutation"],[16,89,9,60],[16,90,9,61],[17,6,10,6,"onSuccess"],[17,15,10,15],[17,17,10,17,"onSuccess"],[17,18,10,17],[17,23,10,23],[18,8,11,8,"console"],[18,15,11,15],[18,16,11,16,"log"],[18,19,11,19],[18,20,11,20],[18,55,11,55],[18,56,11,56],[19,6,12,6],[19,7,12,7],[20,6,13,6,"onError"],[20,13,13,13],[20,15,13,16,"error"],[20,20,13,21],[20,24,13,26],[21,8,14,8,"console"],[21,15,14,15],[21,16,14,16,"error"],[21,21,14,21],[21,22,14,22],[21,52,14,52],[21,54,14,54,"error"],[21,59,14,59],[21,60,14,60],[22,6,15,6],[23,4,16,4],[23,5,16,5],[23,6,16,6],[24,4,18,2],[24,8,18,8,"handleDeviceTokenUpdate"],[24,31,18,31],[25,6,18,31],[25,10,18,31,"_ref"],[25,14,18,31],[25,21,18,31,"_asyncToGenerator2"],[25,39,18,31],[25,40,18,31,"default"],[25,47,18,31],[25,49,18,34],[25,62,18,46],[26,8,19,4],[26,12,19,8,"expoPushToken"],[26,25,19,21],[26,27,19,23],[27,10,20,6],[27,14,20,10],[28,12,21,8],[28,18,21,14,"updateDeviceToken"],[28,35,21,31],[28,36,21,32,"mutateAsync"],[28,47,21,43],[28,48,21,44],[29,14,22,10,"expoPushToken"],[29,27,22,23],[29,29,22,25,"expoPushToken"],[29,42,22,38],[29,43,22,39,"data"],[30,12,23,8],[30,13,23,9],[30,14,23,10],[31,10,24,6],[31,11,24,7],[31,12,24,8],[31,19,24,15,"error"],[31,24,24,20],[31,26,24,22],[32,12,25,8,"console"],[32,19,25,15],[32,20,25,16,"error"],[32,25,25,21],[32,26,25,22],[32,55,25,51],[32,57,25,53,"error"],[32,62,25,58],[32,63,25,59],[33,10,26,6],[34,8,27,4],[35,6,28,2],[35,7,28,3],[36,6,28,3],[36,22,18,8,"handleDeviceTokenUpdate"],[36,45,18,31,"handleDeviceTokenUpdate"],[36,46,18,31],[37,8,18,31],[37,15,18,31,"_ref"],[37,19,18,31],[37,20,18,31,"apply"],[37,25,18,31],[37,32,18,31,"arguments"],[37,41,18,31],[38,6,18,31],[39,4,18,31],[39,7,28,3],[40,4,29,2],[40,11,29,9],[41,6,29,11,"handleDeviceTokenUpdate"],[42,4,29,35],[42,5,29,36],[43,2,30,0],[44,2,30,1,"_s"],[44,4,30,1],[44,5,4,16,"useDeviceToken"],[44,19,4,30],[45,4,4,30],[45,12,5,28,"usePushNotifications"],[45,51,5,48],[46,2,5,48],[47,0,5,48],[47,3]],"functionMap":{"names":["<global>","useDeviceToken","api.mobile...addDeviceToken.useMutation$argument_0.onSuccess","api.mobile...addDeviceToken.useMutation$argument_0.onError","handleDeviceTokenUpdate"],"mappings":"AAA;OCG;iBCM;ODE;eEC;OFE;kCGG;GHU;CDE"}},"type":"js/module"}]}