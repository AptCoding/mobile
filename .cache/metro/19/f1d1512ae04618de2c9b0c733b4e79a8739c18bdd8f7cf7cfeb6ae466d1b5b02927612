{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":35,"column":0,"index":1003}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":35,"column":0,"index":1003}}],"key":"8I802z/QkQYw0PV6ZCqhBNDwn0Q="}},{"name":"~/utils/api","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":34,"index":34}}],"key":"md9Z/NrJ8VvSAlYMvkcokMJNxrs="}},{"name":"../push-notifications","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":2,"column":0,"index":35},"end":{"line":2,"column":61,"index":96}}],"key":"pQUBX9xbQw17x0A6Gr+OdEvudNQ="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useDeviceToken = useDeviceToken;\n  var _asyncToGenerator2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\"));\n  var _api = require(_dependencyMap[2], \"~/utils/api\");\n  var _pushNotifications = require(_dependencyMap[3], \"../push-notifications\");\n  var _s = $RefreshSig$();\n  function useDeviceToken() {\n    _s();\n    var _usePushNotifications = (0, _pushNotifications.usePushNotifications)(),\n      expoPushToken = _usePushNotifications.expoPushToken;\n    console.log(\"pushToken\", expoPushToken);\n    var updateDeviceToken = _api.api.mobile.deviceToken.mutate.addDeviceToken.useMutation({\n      onSuccess: () => {\n        console.log(\"Device token updated successfully\");\n      },\n      onError: error => {\n        console.error(\"Error updating device token:\", error);\n      }\n    });\n    var handleDeviceTokenUpdate = /*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator2.default)(function* () {\n        if (expoPushToken) {\n          console.log(\"inside the expoPushToken\");\n          try {\n            yield updateDeviceToken.mutateAsync({\n              expoPushToken: expoPushToken.data\n            });\n            console.log(\"Device token added successfully\");\n          } catch (error) {\n            console.error(\"Failed to add device token:\", error);\n          }\n          console.log(\"out of the expoPushToken\");\n        }\n      });\n      return function handleDeviceTokenUpdate() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    return {\n      handleDeviceTokenUpdate\n    };\n  }\n  _s(useDeviceToken, \"6ZurUlsEnCCwwp1Mv7Mk6Be9mHU=\", true, function () {\n    return [_pushNotifications.usePushNotifications];\n  });\n});","lineCount":50,"map":[[8,2,1,0],[8,6,1,0,"_api"],[8,10,1,0],[8,13,1,0,"require"],[8,20,1,0],[8,21,1,0,"_dependencyMap"],[8,35,1,0],[9,2,2,0],[9,6,2,0,"_pushNotifications"],[9,24,2,0],[9,27,2,0,"require"],[9,34,2,0],[9,35,2,0,"_dependencyMap"],[9,49,2,0],[10,2,2,61],[10,6,2,61,"_s"],[10,8,2,61],[10,11,2,61,"$RefreshSig$"],[10,23,2,61],[11,2,4,7],[11,11,4,16,"useDeviceToken"],[11,25,4,30,"useDeviceToken"],[11,26,4,30],[11,28,4,33],[12,4,4,33,"_s"],[12,6,4,33],[13,4,5,2],[13,8,5,2,"_usePushNotifications"],[13,29,5,2],[13,32,5,28],[13,36,5,28,"usePushNotifications"],[13,75,5,48],[13,77,5,49],[13,78,5,50],[14,6,5,10,"expoPushToken"],[14,19,5,23],[14,22,5,23,"_usePushNotifications"],[14,43,5,23],[14,44,5,10,"expoPushToken"],[14,57,5,23],[15,4,6,2,"console"],[15,11,6,9],[15,12,6,10,"log"],[15,15,6,13],[15,16,6,14],[15,27,6,25],[15,29,6,27,"expoPushToken"],[15,42,6,40],[15,43,6,41],[16,4,8,2],[16,8,8,8,"updateDeviceToken"],[16,25,8,25],[16,28,9,4,"api"],[16,36,9,7],[16,37,9,8,"mobile"],[16,43,9,14],[16,44,9,15,"deviceToken"],[16,55,9,26],[16,56,9,27,"mutate"],[16,62,9,33],[16,63,9,34,"addDeviceToken"],[16,77,9,48],[16,78,9,49,"useMutation"],[16,89,9,60],[16,90,9,61],[17,6,10,6,"onSuccess"],[17,15,10,15],[17,17,10,17,"onSuccess"],[17,18,10,17],[17,23,10,23],[18,8,11,8,"console"],[18,15,11,15],[18,16,11,16,"log"],[18,19,11,19],[18,20,11,20],[18,55,11,55],[18,56,11,56],[19,6,12,6],[19,7,12,7],[20,6,13,6,"onError"],[20,13,13,13],[20,15,13,16,"error"],[20,20,13,21],[20,24,13,26],[21,8,14,8,"console"],[21,15,14,15],[21,16,14,16,"error"],[21,21,14,21],[21,22,14,22],[21,52,14,52],[21,54,14,54,"error"],[21,59,14,59],[21,60,14,60],[22,6,15,6],[23,4,16,4],[23,5,16,5],[23,6,16,6],[24,4,18,2],[24,8,18,8,"handleDeviceTokenUpdate"],[24,31,18,31],[25,6,18,31],[25,10,18,31,"_ref"],[25,14,18,31],[25,21,18,31,"_asyncToGenerator2"],[25,39,18,31],[25,40,18,31,"default"],[25,47,18,31],[25,49,18,34],[25,62,18,46],[26,8,19,4],[26,12,19,8,"expoPushToken"],[26,25,19,21],[26,27,19,23],[27,10,20,6,"console"],[27,17,20,13],[27,18,20,14,"log"],[27,21,20,17],[27,22,20,18],[27,48,20,44],[27,49,20,45],[28,10,21,6],[28,14,21,10],[29,12,22,8],[29,18,22,14,"updateDeviceToken"],[29,35,22,31],[29,36,22,32,"mutateAsync"],[29,47,22,43],[29,48,22,44],[30,14,23,10,"expoPushToken"],[30,27,23,23],[30,29,23,25,"expoPushToken"],[30,42,23,38],[30,43,23,39,"data"],[31,12,24,8],[31,13,24,9],[31,14,24,10],[32,12,25,8,"console"],[32,19,25,15],[32,20,25,16,"log"],[32,23,25,19],[32,24,25,20],[32,57,25,53],[32,58,25,54],[33,10,26,6],[33,11,26,7],[33,12,26,8],[33,19,26,15,"error"],[33,24,26,20],[33,26,26,22],[34,12,27,8,"console"],[34,19,27,15],[34,20,27,16,"error"],[34,25,27,21],[34,26,27,22],[34,55,27,51],[34,57,27,53,"error"],[34,62,27,58],[34,63,27,59],[35,10,28,6],[36,10,29,6,"console"],[36,17,29,13],[36,18,29,14,"log"],[36,21,29,17],[36,22,29,18],[36,48,29,44],[36,49,29,45],[37,8,30,4],[38,6,31,2],[38,7,31,3],[39,6,31,3],[39,22,18,8,"handleDeviceTokenUpdate"],[39,45,18,31,"handleDeviceTokenUpdate"],[39,46,18,31],[40,8,18,31],[40,15,18,31,"_ref"],[40,19,18,31],[40,20,18,31,"apply"],[40,25,18,31],[40,32,18,31,"arguments"],[40,41,18,31],[41,6,18,31],[42,4,18,31],[42,7,31,3],[43,4,33,2],[43,11,33,9],[44,6,33,11,"handleDeviceTokenUpdate"],[45,4,33,35],[45,5,33,36],[46,2,34,0],[47,2,34,1,"_s"],[47,4,34,1],[47,5,4,16,"useDeviceToken"],[47,19,4,30],[48,4,4,30],[48,12,5,28,"usePushNotifications"],[48,51,5,48],[49,2,5,48],[50,0,5,48],[50,3]],"functionMap":{"names":["<global>","useDeviceToken","api.mobile...addDeviceToken.useMutation$argument_0.onSuccess","api.mobile...addDeviceToken.useMutation$argument_0.onError","handleDeviceTokenUpdate"],"mappings":"AAA;OCG;iBCM;ODE;eEC;OFE;kCGG;GHa;CDG"}},"type":"js/module"}]}