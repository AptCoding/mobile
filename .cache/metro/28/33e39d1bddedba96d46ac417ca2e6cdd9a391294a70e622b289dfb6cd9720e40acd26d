{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":168,"column":0,"index":6011}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":168,"column":0,"index":6011}}],"key":"8I802z/QkQYw0PV6ZCqhBNDwn0Q="}},{"name":"@babel/runtime/helpers/awaitAsyncGenerator","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":168,"column":0,"index":6011}}],"key":"KCCfGbYhud/8hhSaB9A6dGsbQ8Y="}},{"name":"@babel/runtime/helpers/wrapAsyncGenerator","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":168,"column":0,"index":6011}}],"key":"Q34jBtfqFEZOuHnQUQqZu1j3ZM4="}},{"name":"../../../vendor/unpromise/unpromise.mjs","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":68,"index":68}}],"key":"roHFDVn784eQrAossAluz9D6qpc="}},{"name":"./disposable.mjs","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":2,"column":0,"index":69},"end":{"line":2,"column":53,"index":122}}],"key":"FjuGhVot45ea2yUqZisUwHKFkrM="}},{"name":"./timerResource.mjs","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":3,"column":0,"index":123},"end":{"line":3,"column":82,"index":205}}],"key":"eoNwVMZ79uRoiLJ9NddtRCCDLVM="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.iteratorResource = iteratorResource;\n  exports.takeWithGrace = takeWithGrace;\n  exports.withMaxDuration = withMaxDuration;\n  var _asyncToGenerator2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/asyncToGenerator\"));\n  var _awaitAsyncGenerator2 = _interopRequireDefault(require(_dependencyMap[2], \"@babel/runtime/helpers/awaitAsyncGenerator\"));\n  var _wrapAsyncGenerator2 = _interopRequireDefault(require(_dependencyMap[3], \"@babel/runtime/helpers/wrapAsyncGenerator\"));\n  var _unpromise = require(_dependencyMap[4], \"../../../vendor/unpromise/unpromise.mjs\");\n  var _disposable = require(_dependencyMap[5], \"./disposable.mjs\");\n  var _timerResource = require(_dependencyMap[6], \"./timerResource.mjs\");\n  function _ts_add_disposable_resource(env, value, async) {\n    if (value !== null && value !== void 0) {\n      if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n      var dispose, inner;\n      if (async) {\n        if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n        dispose = value[Symbol.asyncDispose];\n      }\n      if (dispose === void 0) {\n        if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n        dispose = value[Symbol.dispose];\n        if (async) inner = dispose;\n      }\n      if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n      if (inner) dispose = function () {\n        try {\n          inner.call(this);\n        } catch (e) {\n          return Promise.reject(e);\n        }\n      };\n      env.stack.push({\n        value: value,\n        dispose: dispose,\n        async: async\n      });\n    } else if (async) {\n      env.stack.push({\n        async: true\n      });\n    }\n    return value;\n  }\n  function _ts_dispose_resources(env) {\n    var _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n      var e = new Error(message);\n      return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n    };\n    return (_ts_dispose_resources = function _ts_dispose_resources(env) {\n      function fail(e) {\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n        env.hasError = true;\n      }\n      var r,\n        s = 0;\n      function next() {\n        while (r = env.stack.pop()) {\n          try {\n            if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\n            if (r.dispose) {\n              var result = r.dispose.call(r.value);\n              if (r.async) return s |= 2, Promise.resolve(result).then(next, function (e) {\n                fail(e);\n                return next();\n              });\n            } else s |= 1;\n          } catch (e) {\n            fail(e);\n          }\n        }\n        if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\n        if (env.hasError) throw env.error;\n      }\n      return next();\n    })(env);\n  }\n  function iteratorResource(iterable) {\n    var iterator = iterable[Symbol.asyncIterator]();\n    return (0, _disposable.makeAsyncResource)(iterator, /*#__PURE__*/(0, _asyncToGenerator2.default)(function* () {\n      yield iterator.return?.();\n    }));\n  }\n  /**\n   * Derives a new {@link AsyncGenerator} based on {@link iterable}, that automatically stops after the specified duration.\n   */\n  function withMaxDuration(_x, _x2) {\n    return _withMaxDuration.apply(this, arguments);\n  }\n  /**\n   * Derives a new {@link AsyncGenerator} based of {@link iterable}, that yields its first\n   * {@link count} values. Then, a grace period of {@link gracePeriodMs} is started in which further\n   * values may still come through. After this period, the generator stops.\n   */\n  function _withMaxDuration() {\n    _withMaxDuration = (0, _wrapAsyncGenerator2.default)(function* (iterable, opts) {\n      var env = {\n        stack: [],\n        error: void 0,\n        hasError: false\n      };\n      try {\n        var iterator = _ts_add_disposable_resource(env, iteratorResource(iterable), true);\n        ;\n        var timer = _ts_add_disposable_resource(env, (0, _timerResource.timerResource)(opts.maxDurationMs), false);\n        ;\n        var timerPromise = timer.start();\n        // declaration outside the loop for garbage collection reasons\n        var result;\n        while (true) {\n          result = yield (0, _awaitAsyncGenerator2.default)(_unpromise.Unpromise.race([iterator.next(), timerPromise]));\n          if (result === _timerResource.disposablePromiseTimerResult) {\n            // cancelled due to timeout\n            var res = yield (0, _awaitAsyncGenerator2.default)(iterator.return?.());\n            return res?.value;\n          }\n          if (result.done) {\n            return result;\n          }\n          yield result.value;\n          // free up reference for garbage collection\n          result = null;\n        }\n      } catch (e) {\n        env.error = e;\n        env.hasError = true;\n      } finally {\n        var _result = _ts_dispose_resources(env);\n        if (_result) yield (0, _awaitAsyncGenerator2.default)(_result);\n      }\n    });\n    return _withMaxDuration.apply(this, arguments);\n  }\n  function takeWithGrace(_x3, _x4) {\n    return _takeWithGrace.apply(this, arguments);\n  }\n  function _takeWithGrace() {\n    _takeWithGrace = (0, _wrapAsyncGenerator2.default)(function* (iterable, opts) {\n      var env = {\n        stack: [],\n        error: void 0,\n        hasError: false\n      };\n      try {\n        var iterator = _ts_add_disposable_resource(env, iteratorResource(iterable), true);\n        ;\n        // declaration outside the loop for garbage collection reasons\n        var result;\n        var timer = _ts_add_disposable_resource(env, (0, _timerResource.timerResource)(opts.gracePeriodMs), false);\n        ;\n        var count = opts.count;\n        var timerPromise = new Promise(() => {\n          // never resolves\n        });\n        while (true) {\n          result = yield (0, _awaitAsyncGenerator2.default)(_unpromise.Unpromise.race([iterator.next(), timerPromise]));\n          if (result === _timerResource.disposablePromiseTimerResult) {\n            // cancelled\n            var res = yield (0, _awaitAsyncGenerator2.default)(iterator.return?.());\n            return res?.value;\n          }\n          if (result.done) {\n            return result.value;\n          }\n          yield result.value;\n          if (--count === 0) {\n            timerPromise = timer.start();\n          }\n          // free up reference for garbage collection\n          result = null;\n        }\n      } catch (e) {\n        env.error = e;\n        env.hasError = true;\n      } finally {\n        var _result2 = _ts_dispose_resources(env);\n        if (_result2) yield (0, _awaitAsyncGenerator2.default)(_result2);\n      }\n    });\n    return _takeWithGrace.apply(this, arguments);\n  }\n});","lineCount":185,"map":[[12,2,1,0],[12,6,1,0,"_unpromise"],[12,16,1,0],[12,19,1,0,"require"],[12,26,1,0],[12,27,1,0,"_dependencyMap"],[12,41,1,0],[13,2,2,0],[13,6,2,0,"_disposable"],[13,17,2,0],[13,20,2,0,"require"],[13,27,2,0],[13,28,2,0,"_dependencyMap"],[13,42,2,0],[14,2,3,0],[14,6,3,0,"_timerResource"],[14,20,3,0],[14,23,3,0,"require"],[14,30,3,0],[14,31,3,0,"_dependencyMap"],[14,45,3,0],[15,2,5,0],[15,11,5,9,"_ts_add_disposable_resource"],[15,38,5,36,"_ts_add_disposable_resource"],[15,39,5,37,"env"],[15,42,5,40],[15,44,5,42,"value"],[15,49,5,47],[15,51,5,49,"async"],[15,56,5,54],[15,58,5,56],[16,4,6,4],[16,8,6,8,"value"],[16,13,6,13],[16,18,6,18],[16,22,6,22],[16,26,6,26,"value"],[16,31,6,31],[16,36,6,36],[16,41,6,41],[16,42,6,42],[16,44,6,44],[17,6,7,8],[17,10,7,12],[17,17,7,19,"value"],[17,22,7,24],[17,27,7,29],[17,35,7,37],[17,39,7,41],[17,46,7,48,"value"],[17,51,7,53],[17,56,7,58],[17,66,7,68],[17,68,7,70],[17,74,7,76],[17,78,7,80,"TypeError"],[17,87,7,89],[17,88,7,90],[17,106,7,108],[17,107,7,109],[18,6,8,8],[18,10,8,12,"dispose"],[18,17,8,19],[18,19,8,21,"inner"],[18,24,8,26],[19,6,9,8],[19,10,9,12,"async"],[19,15,9,17],[19,17,9,19],[20,8,10,12],[20,12,10,16],[20,13,10,17,"Symbol"],[20,19,10,23],[20,20,10,24,"asyncDispose"],[20,32,10,36],[20,34,10,38],[20,40,10,44],[20,44,10,48,"TypeError"],[20,53,10,57],[20,54,10,58],[20,91,10,95],[20,92,10,96],[21,8,11,12,"dispose"],[21,15,11,19],[21,18,11,22,"value"],[21,23,11,27],[21,24,11,28,"Symbol"],[21,30,11,34],[21,31,11,35,"asyncDispose"],[21,43,11,47],[21,44,11,48],[22,6,12,8],[23,6,13,8],[23,10,13,12,"dispose"],[23,17,13,19],[23,22,13,24],[23,27,13,29],[23,28,13,30],[23,30,13,32],[24,8,14,12],[24,12,14,16],[24,13,14,17,"Symbol"],[24,19,14,23],[24,20,14,24,"dispose"],[24,27,14,31],[24,29,14,33],[24,35,14,39],[24,39,14,43,"TypeError"],[24,48,14,52],[24,49,14,53],[24,81,14,85],[24,82,14,86],[25,8,15,12,"dispose"],[25,15,15,19],[25,18,15,22,"value"],[25,23,15,27],[25,24,15,28,"Symbol"],[25,30,15,34],[25,31,15,35,"dispose"],[25,38,15,42],[25,39,15,43],[26,8,16,12],[26,12,16,16,"async"],[26,17,16,21],[26,19,16,23,"inner"],[26,24,16,28],[26,27,16,31,"dispose"],[26,34,16,38],[27,6,17,8],[28,6,18,8],[28,10,18,12],[28,17,18,19,"dispose"],[28,24,18,26],[28,29,18,31],[28,39,18,41],[28,41,18,43],[28,47,18,49],[28,51,18,53,"TypeError"],[28,60,18,62],[28,61,18,63],[28,85,18,87],[28,86,18,88],[29,6,19,8],[29,10,19,12,"inner"],[29,15,19,17],[29,17,19,19,"dispose"],[29,24,19,26],[29,27,19,29],[29,36,19,29,"dispose"],[29,37,19,29],[29,39,19,40],[30,8,20,12],[30,12,20,16],[31,10,21,16,"inner"],[31,15,21,21],[31,16,21,22,"call"],[31,20,21,26],[31,21,21,27],[31,25,21,31],[31,26,21,32],[32,8,22,12],[32,9,22,13],[32,10,22,14],[32,17,22,21,"e"],[32,18,22,22],[32,20,22,24],[33,10,23,16],[33,17,23,23,"Promise"],[33,24,23,30],[33,25,23,31,"reject"],[33,31,23,37],[33,32,23,38,"e"],[33,33,23,39],[33,34,23,40],[34,8,24,12],[35,6,25,8],[35,7,25,9],[36,6,26,8,"env"],[36,9,26,11],[36,10,26,12,"stack"],[36,15,26,17],[36,16,26,18,"push"],[36,20,26,22],[36,21,26,23],[37,8,27,12,"value"],[37,13,27,17],[37,15,27,19,"value"],[37,20,27,24],[38,8,28,12,"dispose"],[38,15,28,19],[38,17,28,21,"dispose"],[38,24,28,28],[39,8,29,12,"async"],[39,13,29,17],[39,15,29,19,"async"],[40,6,30,8],[40,7,30,9],[40,8,30,10],[41,4,31,4],[41,5,31,5],[41,11,31,11],[41,15,31,15,"async"],[41,20,31,20],[41,22,31,22],[42,6,32,8,"env"],[42,9,32,11],[42,10,32,12,"stack"],[42,15,32,17],[42,16,32,18,"push"],[42,20,32,22],[42,21,32,23],[43,8,33,12,"async"],[43,13,33,17],[43,15,33,19],[44,6,34,8],[44,7,34,9],[44,8,34,10],[45,4,35,4],[46,4,36,4],[46,11,36,11,"value"],[46,16,36,16],[47,2,37,0],[48,2,38,0],[48,11,38,9,"_ts_dispose_resources"],[48,32,38,30,"_ts_dispose_resources"],[48,33,38,31,"env"],[48,36,38,34],[48,38,38,36],[49,4,39,4],[49,8,39,8,"_SuppressedError"],[49,24,39,24],[49,27,39,27],[49,34,39,34,"SuppressedError"],[49,49,39,49],[49,54,39,54],[49,64,39,64],[49,67,39,67,"SuppressedError"],[49,82,39,82],[49,85,39,85],[49,95,39,94,"error"],[49,100,39,99],[49,102,39,101,"suppressed"],[49,112,39,111],[49,114,39,113,"message"],[49,121,39,120],[49,123,39,122],[50,6,40,8],[50,10,40,12,"e"],[50,11,40,13],[50,14,40,16],[50,18,40,20,"Error"],[50,23,40,25],[50,24,40,26,"message"],[50,31,40,33],[50,32,40,34],[51,6,41,8],[51,13,41,15,"e"],[51,14,41,16],[51,15,41,17,"name"],[51,19,41,21],[51,22,41,24],[51,39,41,41],[51,41,41,43,"e"],[51,42,41,44],[51,43,41,45,"error"],[51,48,41,50],[51,51,41,53,"error"],[51,56,41,58],[51,58,41,60,"e"],[51,59,41,61],[51,60,41,62,"suppressed"],[51,70,41,72],[51,73,41,75,"suppressed"],[51,83,41,85],[51,85,41,87,"e"],[51,86,41,88],[52,4,42,4],[52,5,42,5],[53,4,43,4],[53,11,43,11],[53,12,43,12,"_ts_dispose_resources"],[53,33,43,33],[53,36,43,36],[53,45,43,45,"_ts_dispose_resources"],[53,66,43,66,"_ts_dispose_resources"],[53,67,43,67,"env"],[53,70,43,70],[53,72,43,72],[54,6,44,8],[54,15,44,17,"fail"],[54,19,44,21,"fail"],[54,20,44,22,"e"],[54,21,44,23],[54,23,44,25],[55,8,45,12,"env"],[55,11,45,15],[55,12,45,16,"error"],[55,17,45,21],[55,20,45,24,"env"],[55,23,45,27],[55,24,45,28,"hasError"],[55,32,45,36],[55,35,45,39],[55,39,45,43,"_SuppressedError"],[55,55,45,59],[55,56,45,60,"e"],[55,57,45,61],[55,59,45,63,"env"],[55,62,45,66],[55,63,45,67,"error"],[55,68,45,72],[55,70,45,74],[55,112,45,116],[55,113,45,117],[55,116,45,120,"e"],[55,117,45,121],[56,8,46,12,"env"],[56,11,46,15],[56,12,46,16,"hasError"],[56,20,46,24],[56,23,46,27],[56,27,46,31],[57,6,47,8],[58,6,48,8],[58,10,48,12,"r"],[58,11,48,13],[59,8,48,15,"s"],[59,9,48,16],[59,12,48,19],[59,13,48,20],[60,6,49,8],[60,15,49,17,"next"],[60,19,49,21,"next"],[60,20,49,21],[60,22,49,24],[61,8,50,12],[61,15,50,18,"r"],[61,16,50,19],[61,19,50,22,"env"],[61,22,50,25],[61,23,50,26,"stack"],[61,28,50,31],[61,29,50,32,"pop"],[61,32,50,35],[61,33,50,36],[61,34,50,37],[61,36,50,38],[62,10,51,16],[62,14,51,20],[63,12,52,20],[63,16,52,24],[63,17,52,25,"r"],[63,18,52,26],[63,19,52,27,"async"],[63,24,52,32],[63,28,52,36,"s"],[63,29,52,37],[63,34,52,42],[63,35,52,43],[63,37,52,45],[63,44,52,52,"s"],[63,45,52,53],[63,48,52,56],[63,49,52,57],[63,51,52,59,"env"],[63,54,52,62],[63,55,52,63,"stack"],[63,60,52,68],[63,61,52,69,"push"],[63,65,52,73],[63,66,52,74,"r"],[63,67,52,75],[63,68,52,76],[63,70,52,78,"Promise"],[63,77,52,85],[63,78,52,86,"resolve"],[63,85,52,93],[63,86,52,94],[63,87,52,95],[63,88,52,96,"then"],[63,92,52,100],[63,93,52,101,"next"],[63,97,52,105],[63,98,52,106],[64,12,53,20],[64,16,53,24,"r"],[64,17,53,25],[64,18,53,26,"dispose"],[64,25,53,33],[64,27,53,35],[65,14,54,24],[65,18,54,28,"result"],[65,24,54,34],[65,27,54,37,"r"],[65,28,54,38],[65,29,54,39,"dispose"],[65,36,54,46],[65,37,54,47,"call"],[65,41,54,51],[65,42,54,52,"r"],[65,43,54,53],[65,44,54,54,"value"],[65,49,54,59],[65,50,54,60],[66,14,55,24],[66,18,55,28,"r"],[66,19,55,29],[66,20,55,30,"async"],[66,25,55,35],[66,27,55,37],[66,34,55,44,"s"],[66,35,55,45],[66,39,55,49],[66,40,55,50],[66,42,55,52,"Promise"],[66,49,55,59],[66,50,55,60,"resolve"],[66,57,55,67],[66,58,55,68,"result"],[66,64,55,74],[66,65,55,75],[66,66,55,76,"then"],[66,70,55,80],[66,71,55,81,"next"],[66,75,55,85],[66,77,55,87],[66,87,55,96,"e"],[66,88,55,97],[66,90,55,99],[67,16,56,28,"fail"],[67,20,56,32],[67,21,56,33,"e"],[67,22,56,34],[67,23,56,35],[68,16,57,28],[68,23,57,35,"next"],[68,27,57,39],[68,28,57,40],[68,29,57,41],[69,14,58,24],[69,15,58,25],[69,16,58,26],[70,12,59,20],[70,13,59,21],[70,19,59,27,"s"],[70,20,59,28],[70,24,59,32],[70,25,59,33],[71,10,60,16],[71,11,60,17],[71,12,60,18],[71,19,60,25,"e"],[71,20,60,26],[71,22,60,28],[72,12,61,20,"fail"],[72,16,61,24],[72,17,61,25,"e"],[72,18,61,26],[72,19,61,27],[73,10,62,16],[74,8,63,12],[75,8,64,12],[75,12,64,16,"s"],[75,13,64,17],[75,18,64,22],[75,19,64,23],[75,21,64,25],[75,28,64,32,"env"],[75,31,64,35],[75,32,64,36,"hasError"],[75,40,64,44],[75,43,64,47,"Promise"],[75,50,64,54],[75,51,64,55,"reject"],[75,57,64,61],[75,58,64,62,"env"],[75,61,64,65],[75,62,64,66,"error"],[75,67,64,71],[75,68,64,72],[75,71,64,75,"Promise"],[75,78,64,82],[75,79,64,83,"resolve"],[75,86,64,90],[75,87,64,91],[75,88,64,92],[76,8,65,12],[76,12,65,16,"env"],[76,15,65,19],[76,16,65,20,"hasError"],[76,24,65,28],[76,26,65,30],[76,32,65,36,"env"],[76,35,65,39],[76,36,65,40,"error"],[76,41,65,45],[77,6,66,8],[78,6,67,8],[78,13,67,15,"next"],[78,17,67,19],[78,18,67,20],[78,19,67,21],[79,4,68,4],[79,5,68,5],[79,7,68,7,"env"],[79,10,68,10],[79,11,68,11],[80,2,69,0],[81,2,70,0],[81,11,70,9,"iteratorResource"],[81,27,70,25,"iteratorResource"],[81,28,70,26,"iterable"],[81,36,70,34],[81,38,70,36],[82,4,71,4],[82,8,71,10,"iterator"],[82,16,71,18],[82,19,71,21,"iterable"],[82,27,71,29],[82,28,71,30,"Symbol"],[82,34,71,36],[82,35,71,37,"asyncIterator"],[82,48,71,50],[82,49,71,51],[82,50,71,52],[82,51,71,53],[83,4,72,4],[83,11,72,11],[83,15,72,11,"makeAsyncResource"],[83,44,72,28],[83,46,72,29,"iterator"],[83,54,72,37],[83,73,72,37,"_asyncToGenerator2"],[83,91,72,37],[83,92,72,37,"default"],[83,99,72,37],[83,101,72,39],[83,114,72,49],[84,6,73,8],[84,12,73,14,"iterator"],[84,20,73,22],[84,21,73,23,"return"],[84,27,73,29],[84,30,73,32],[84,31,73,33],[85,4,74,4],[85,5,74,5],[85,7,74,6],[86,2,75,0],[87,2,76,0],[88,0,77,0],[89,0,78,0],[90,2,76,0],[90,11,78,20,"withMaxDuration"],[90,26,78,35,"withMaxDuration"],[90,27,78,35,"_x"],[90,29,78,35],[90,31,78,35,"_x2"],[90,34,78,35],[91,4,78,35],[91,11,78,35,"_withMaxDuration"],[91,27,78,35],[91,28,78,35,"apply"],[91,33,78,35],[91,40,78,35,"arguments"],[91,49,78,35],[92,2,78,35],[93,2,117,0],[94,0,118,0],[95,0,119,0],[96,0,120,0],[97,0,121,0],[98,2,117,0],[98,11,117,0,"_withMaxDuration"],[98,28,117,0],[99,4,117,0,"_withMaxDuration"],[99,20,117,0],[99,27,117,0,"_wrapAsyncGenerator2"],[99,47,117,0],[99,48,117,0,"default"],[99,55,117,0],[99,57,78,4],[99,68,78,36,"iterable"],[99,76,78,44],[99,78,78,46,"opts"],[99,82,78,50],[99,84,78,52],[100,6,79,4],[100,10,79,10,"env"],[100,13,79,13],[100,16,79,16],[101,8,80,8,"stack"],[101,13,80,13],[101,15,80,15],[101,17,80,17],[102,8,81,8,"error"],[102,13,81,13],[102,15,81,15],[102,20,81,20],[102,21,81,21],[103,8,82,8,"hasError"],[103,16,82,16],[103,18,82,18],[104,6,83,4],[104,7,83,5],[105,6,84,4],[105,10,84,8],[106,8,85,8],[106,12,85,14,"iterator"],[106,20,85,22],[106,23,85,25,"_ts_add_disposable_resource"],[106,50,85,52],[106,51,85,53,"env"],[106,54,85,56],[106,56,85,58,"iteratorResource"],[106,72,85,74],[106,73,85,75,"iterable"],[106,81,85,83],[106,82,85,84],[106,84,85,86],[106,88,85,90],[106,89,85,91],[107,8,86,8],[108,8,87,8],[108,12,87,14,"timer"],[108,17,87,19],[108,20,87,22,"_ts_add_disposable_resource"],[108,47,87,49],[108,48,87,50,"env"],[108,51,87,53],[108,53,87,55],[108,57,87,55,"timerResource"],[108,85,87,68],[108,87,87,69,"opts"],[108,91,87,73],[108,92,87,74,"maxDurationMs"],[108,105,87,87],[108,106,87,88],[108,108,87,90],[108,113,87,95],[108,114,87,96],[109,8,88,8],[110,8,89,8],[110,12,89,14,"timerPromise"],[110,24,89,26],[110,27,89,29,"timer"],[110,32,89,34],[110,33,89,35,"start"],[110,38,89,40],[110,39,89,41],[110,40,89,42],[111,8,90,8],[112,8,91,8],[112,12,91,12,"result"],[112,18,91,18],[113,8,92,8],[113,15,92,14],[113,19,92,18],[113,21,92,19],[114,10,93,12,"result"],[114,16,93,18],[114,29,93,18,"_awaitAsyncGenerator2"],[114,50,93,18],[114,51,93,18,"default"],[114,58,93,18],[114,60,93,27,"Unpromise"],[114,80,93,36],[114,81,93,37,"race"],[114,85,93,41],[114,86,93,42],[114,87,94,16,"iterator"],[114,95,94,24],[114,96,94,25,"next"],[114,100,94,29],[114,101,94,30],[114,102,94,31],[114,104,95,16,"timerPromise"],[114,116,95,28],[114,117,96,13],[114,118,96,14],[115,10,97,12],[115,14,97,16,"result"],[115,20,97,22],[115,25,97,27,"disposablePromiseTimerResult"],[115,68,97,55],[115,70,97,57],[116,12,98,16],[117,12,99,16],[117,16,99,22,"res"],[117,19,99,25],[117,32,99,25,"_awaitAsyncGenerator2"],[117,53,99,25],[117,54,99,25,"default"],[117,61,99,25],[117,63,99,34,"iterator"],[117,71,99,42],[117,72,99,43,"return"],[117,78,99,49],[117,81,99,52],[117,82,99,53],[118,12,100,16],[118,19,100,23,"res"],[118,22,100,26],[118,24,100,28,"value"],[118,29,100,33],[119,10,101,12],[120,10,102,12],[120,14,102,16,"result"],[120,20,102,22],[120,21,102,23,"done"],[120,25,102,27],[120,27,102,29],[121,12,103,16],[121,19,103,23,"result"],[121,25,103,29],[122,10,104,12],[123,10,105,12],[123,16,105,18,"result"],[123,22,105,24],[123,23,105,25,"value"],[123,28,105,30],[124,10,106,12],[125,10,107,12,"result"],[125,16,107,18],[125,19,107,21],[125,23,107,25],[126,8,108,8],[127,6,109,4],[127,7,109,5],[127,8,109,6],[127,15,109,13,"e"],[127,16,109,14],[127,18,109,16],[128,8,110,8,"env"],[128,11,110,11],[128,12,110,12,"error"],[128,17,110,17],[128,20,110,20,"e"],[128,21,110,21],[129,8,111,8,"env"],[129,11,111,11],[129,12,111,12,"hasError"],[129,20,111,20],[129,23,111,23],[129,27,111,27],[130,6,112,4],[130,7,112,5],[130,16,112,13],[131,8,113,8],[131,12,113,14,"result"],[131,19,113,20],[131,22,113,23,"_ts_dispose_resources"],[131,43,113,44],[131,44,113,45,"env"],[131,47,113,48],[131,48,113,49],[132,8,114,8],[132,12,114,12,"result"],[132,19,114,18],[132,21,114,20],[132,31,114,20,"_awaitAsyncGenerator2"],[132,52,114,20],[132,53,114,20,"default"],[132,60,114,20],[132,62,114,26,"result"],[132,69,114,32],[133,6,115,4],[134,4,116,0],[134,5,116,1],[135,4,116,1],[135,11,116,1,"_withMaxDuration"],[135,27,116,1],[135,28,116,1,"apply"],[135,33,116,1],[135,40,116,1,"arguments"],[135,49,116,1],[136,2,116,1],[137,2,116,1],[137,11,121,20,"takeWithGrace"],[137,24,121,33,"takeWithGrace"],[137,25,121,33,"_x3"],[137,28,121,33],[137,30,121,33,"_x4"],[137,33,121,33],[138,4,121,33],[138,11,121,33,"_takeWithGrace"],[138,25,121,33],[138,26,121,33,"apply"],[138,31,121,33],[138,38,121,33,"arguments"],[138,47,121,33],[139,2,121,33],[140,2,121,33],[140,11,121,33,"_takeWithGrace"],[140,26,121,33],[141,4,121,33,"_takeWithGrace"],[141,18,121,33],[141,25,121,33,"_wrapAsyncGenerator2"],[141,45,121,33],[141,46,121,33,"default"],[141,53,121,33],[141,55,121,4],[141,66,121,34,"iterable"],[141,74,121,42],[141,76,121,44,"opts"],[141,80,121,48],[141,82,121,50],[142,6,122,4],[142,10,122,10,"env"],[142,13,122,13],[142,16,122,16],[143,8,123,8,"stack"],[143,13,123,13],[143,15,123,15],[143,17,123,17],[144,8,124,8,"error"],[144,13,124,13],[144,15,124,15],[144,20,124,20],[144,21,124,21],[145,8,125,8,"hasError"],[145,16,125,16],[145,18,125,18],[146,6,126,4],[146,7,126,5],[147,6,127,4],[147,10,127,8],[148,8,128,8],[148,12,128,14,"iterator"],[148,20,128,22],[148,23,128,25,"_ts_add_disposable_resource"],[148,50,128,52],[148,51,128,53,"env"],[148,54,128,56],[148,56,128,58,"iteratorResource"],[148,72,128,74],[148,73,128,75,"iterable"],[148,81,128,83],[148,82,128,84],[148,84,128,86],[148,88,128,90],[148,89,128,91],[149,8,129,8],[150,8,130,8],[151,8,131,8],[151,12,131,12,"result"],[151,18,131,18],[152,8,132,8],[152,12,132,14,"timer"],[152,17,132,19],[152,20,132,22,"_ts_add_disposable_resource"],[152,47,132,49],[152,48,132,50,"env"],[152,51,132,53],[152,53,132,55],[152,57,132,55,"timerResource"],[152,85,132,68],[152,87,132,69,"opts"],[152,91,132,73],[152,92,132,74,"gracePeriodMs"],[152,105,132,87],[152,106,132,88],[152,108,132,90],[152,113,132,95],[152,114,132,96],[153,8,133,8],[154,8,134,8],[154,12,134,12,"count"],[154,17,134,17],[154,20,134,20,"opts"],[154,24,134,24],[154,25,134,25,"count"],[154,30,134,30],[155,8,135,8],[155,12,135,12,"timerPromise"],[155,24,135,24],[155,27,135,27],[155,31,135,31,"Promise"],[155,38,135,38],[155,39,135,39],[155,45,135,43],[156,10,136,8],[157,8,136,8],[157,9,137,9],[157,10,137,10],[158,8,138,8],[158,15,138,14],[158,19,138,18],[158,21,138,19],[159,10,139,12,"result"],[159,16,139,18],[159,29,139,18,"_awaitAsyncGenerator2"],[159,50,139,18],[159,51,139,18,"default"],[159,58,139,18],[159,60,139,27,"Unpromise"],[159,80,139,36],[159,81,139,37,"race"],[159,85,139,41],[159,86,139,42],[159,87,140,16,"iterator"],[159,95,140,24],[159,96,140,25,"next"],[159,100,140,29],[159,101,140,30],[159,102,140,31],[159,104,141,16,"timerPromise"],[159,116,141,28],[159,117,142,13],[159,118,142,14],[160,10,143,12],[160,14,143,16,"result"],[160,20,143,22],[160,25,143,27,"disposablePromiseTimerResult"],[160,68,143,55],[160,70,143,57],[161,12,144,16],[162,12,145,16],[162,16,145,22,"res"],[162,19,145,25],[162,32,145,25,"_awaitAsyncGenerator2"],[162,53,145,25],[162,54,145,25,"default"],[162,61,145,25],[162,63,145,34,"iterator"],[162,71,145,42],[162,72,145,43,"return"],[162,78,145,49],[162,81,145,52],[162,82,145,53],[163,12,146,16],[163,19,146,23,"res"],[163,22,146,26],[163,24,146,28,"value"],[163,29,146,33],[164,10,147,12],[165,10,148,12],[165,14,148,16,"result"],[165,20,148,22],[165,21,148,23,"done"],[165,25,148,27],[165,27,148,29],[166,12,149,16],[166,19,149,23,"result"],[166,25,149,29],[166,26,149,30,"value"],[166,31,149,35],[167,10,150,12],[168,10,151,12],[168,16,151,18,"result"],[168,22,151,24],[168,23,151,25,"value"],[168,28,151,30],[169,10,152,12],[169,14,152,16],[169,16,152,18,"count"],[169,21,152,23],[169,26,152,28],[169,27,152,29],[169,29,152,31],[170,12,153,16,"timerPromise"],[170,24,153,28],[170,27,153,31,"timer"],[170,32,153,36],[170,33,153,37,"start"],[170,38,153,42],[170,39,153,43],[170,40,153,44],[171,10,154,12],[172,10,155,12],[173,10,156,12,"result"],[173,16,156,18],[173,19,156,21],[173,23,156,25],[174,8,157,8],[175,6,158,4],[175,7,158,5],[175,8,158,6],[175,15,158,13,"e"],[175,16,158,14],[175,18,158,16],[176,8,159,8,"env"],[176,11,159,11],[176,12,159,12,"error"],[176,17,159,17],[176,20,159,20,"e"],[176,21,159,21],[177,8,160,8,"env"],[177,11,160,11],[177,12,160,12,"hasError"],[177,20,160,20],[177,23,160,23],[177,27,160,27],[178,6,161,4],[178,7,161,5],[178,16,161,13],[179,8,162,8],[179,12,162,14,"result"],[179,20,162,20],[179,23,162,23,"_ts_dispose_resources"],[179,44,162,44],[179,45,162,45,"env"],[179,48,162,48],[179,49,162,49],[180,8,163,8],[180,12,163,12,"result"],[180,20,163,18],[180,22,163,20],[180,32,163,20,"_awaitAsyncGenerator2"],[180,53,163,20],[180,54,163,20,"default"],[180,61,163,20],[180,63,163,26,"result"],[180,71,163,32],[181,6,164,4],[182,4,165,0],[182,5,165,1],[183,4,165,1],[183,11,165,1,"_takeWithGrace"],[183,25,165,1],[183,26,165,1,"apply"],[183,31,165,1],[183,38,165,1,"arguments"],[183,47,165,1],[184,2,165,1],[185,0,165,1],[185,3]],"functionMap":{"names":["<global>","_ts_add_disposable_resource","dispose","_ts_dispose_resources","<anonymous>","fail","next","Promise.resolve.then$argument_1","iteratorResource","makeAsyncResource$argument_1","withMaxDuration","takeWithGrace","Promise$argument_0"],"mappings":"AAA;ACI;6BCc;SDM;CDY;AGC;qFCC;KDG;QEE;SFG;QGE;uFCM;yBDG;SHQ;CHG;AQC;uCCE;KDE;CRC;IUG;CVsC;IWK;uCCc;SDE;CX4B"}},"type":"js/module"}]}