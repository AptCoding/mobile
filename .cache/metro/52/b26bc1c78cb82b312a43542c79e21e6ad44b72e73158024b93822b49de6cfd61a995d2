{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":46,"column":40,"index":2010}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"expo-modules-core","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":65,"index":65}}],"key":"ka0FS6s7ZmvhJq+hEjGkLLrGpyo="}},{"name":"./PushTokenManager","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":2,"column":0,"index":66},"end":{"line":2,"column":50,"index":116}}],"key":"4WsWLH2djqKrsxyXA3Qeudr3B1s="}},{"name":"./warnOfExpoGoPushUsage","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":3,"column":0,"index":117},"end":{"line":3,"column":64,"index":181}}],"key":"fbhsCmjJO4P3ddo/Hr9l2Ez8OfY="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.addPushTokenListener = addPushTokenListener;\n  exports.removePushTokenSubscription = removePushTokenSubscription;\n  var _expoModulesCore = require(_dependencyMap[1], \"expo-modules-core\");\n  var _PushTokenManager = _interopRequireDefault(require(_dependencyMap[2], \"./PushTokenManager\"));\n  var _warnOfExpoGoPushUsage = require(_dependencyMap[3], \"./warnOfExpoGoPushUsage\");\n  // Web uses SyntheticEventEmitter\n  var tokenEmitter = new _expoModulesCore.LegacyEventEmitter(_PushTokenManager.default);\n  var newTokenEventName = 'onDevicePushToken';\n  /**\n   * In rare situations, a push token may be changed by the push notification service while the app is running.\n   * When a token is rolled, the old one becomes invalid and sending notifications to it will fail.\n   * A push token listener will let you handle this situation gracefully by registering the new token with your backend right away.\n   * @param listener A function accepting a push token as an argument, it will be called whenever the push token changes.\n   * @return An [`EventSubscription`](#eventsubscription) object represents the subscription of the provided listener.\n   * @header fetch\n   * @example Registering a push token listener using a React hook.\n   * ```jsx\n   * import React from 'react';\n   * import * as Notifications from 'expo-notifications';\n   *\n   * import { registerDevicePushTokenAsync } from '../api';\n   *\n   * export default function App() {\n   *   React.useEffect(() => {\n   *     const subscription = Notifications.addPushTokenListener(registerDevicePushTokenAsync);\n   *     return () => subscription.remove();\n   *   }, []);\n   *\n   *   return (\n   *     // Your app content\n   *   );\n   * }\n   * ```\n   */\n  function addPushTokenListener(listener) {\n    (0, _warnOfExpoGoPushUsage.warnOfExpoGoPushUsage)();\n    var wrappingListener = _ref => {\n      var devicePushToken = _ref.devicePushToken;\n      return listener({\n        data: devicePushToken,\n        type: _expoModulesCore.Platform.OS\n      });\n    };\n    return tokenEmitter.addListener(newTokenEventName, wrappingListener);\n  }\n  /**\n   * Removes a push token subscription returned by an `addPushTokenListener` call.\n   * @param subscription A subscription returned by `addPushTokenListener` method.\n   * @header fetch\n   */\n  function removePushTokenSubscription(subscription) {\n    subscription.remove();\n  }\n});","lineCount":59,"map":[[8,2,1,0],[8,6,1,0,"_expoModulesCore"],[8,22,1,0],[8,25,1,0,"require"],[8,32,1,0],[8,33,1,0,"_dependencyMap"],[8,47,1,0],[9,2,2,0],[9,6,2,0,"_PushTokenManager"],[9,23,2,0],[9,26,2,0,"_interopRequireDefault"],[9,48,2,0],[9,49,2,0,"require"],[9,56,2,0],[9,57,2,0,"_dependencyMap"],[9,71,2,0],[10,2,3,0],[10,6,3,0,"_warnOfExpoGoPushUsage"],[10,28,3,0],[10,31,3,0,"require"],[10,38,3,0],[10,39,3,0,"_dependencyMap"],[10,53,3,0],[11,2,4,0],[12,2,5,0],[12,6,5,6,"tokenEmitter"],[12,18,5,18],[12,21,5,21],[12,25,5,25,"LegacyEventEmitter"],[12,60,5,43],[12,61,5,44,"PushTokenManager"],[12,86,5,60],[12,87,5,61],[13,2,6,0],[13,6,6,6,"newTokenEventName"],[13,23,6,23],[13,26,6,26],[13,45,6,45],[14,2,7,0],[15,0,8,0],[16,0,9,0],[17,0,10,0],[18,0,11,0],[19,0,12,0],[20,0,13,0],[21,0,14,0],[22,0,15,0],[23,0,16,0],[24,0,17,0],[25,0,18,0],[26,0,19,0],[27,0,20,0],[28,0,21,0],[29,0,22,0],[30,0,23,0],[31,0,24,0],[32,0,25,0],[33,0,26,0],[34,0,27,0],[35,0,28,0],[36,0,29,0],[37,0,30,0],[38,0,31,0],[39,0,32,0],[40,2,33,7],[40,11,33,16,"addPushTokenListener"],[40,31,33,36,"addPushTokenListener"],[40,32,33,37,"listener"],[40,40,33,45],[40,42,33,47],[41,4,34,4],[41,8,34,4,"warnOfExpoGoPushUsage"],[41,52,34,25],[41,54,34,26],[41,55,34,27],[42,4,35,4],[42,8,35,10,"wrappingListener"],[42,24,35,26],[42,27,35,29,"_ref"],[42,31,35,29],[43,6,35,29],[43,10,35,32,"devicePushToken"],[43,25,35,47],[43,28,35,47,"_ref"],[43,32,35,47],[43,33,35,32,"devicePushToken"],[43,48,35,47],[44,6,35,47],[44,13,35,54,"listener"],[44,21,35,62],[44,22,35,63],[45,8,35,65,"data"],[45,12,35,69],[45,14,35,71,"devicePushToken"],[45,29,35,86],[46,8,35,88,"type"],[46,12,35,92],[46,14,35,94,"Platform"],[46,39,35,102],[46,40,35,103,"OS"],[47,6,35,106],[47,7,35,107],[47,8,35,108],[48,4,35,108],[49,4,36,4],[49,11,36,11,"tokenEmitter"],[49,23,36,23],[49,24,36,24,"addListener"],[49,35,36,35],[49,36,36,36,"newTokenEventName"],[49,53,36,53],[49,55,36,55,"wrappingListener"],[49,71,36,71],[49,72,36,72],[50,2,37,0],[51,2,38,0],[52,0,39,0],[53,0,40,0],[54,0,41,0],[55,0,42,0],[56,2,43,7],[56,11,43,16,"removePushTokenSubscription"],[56,38,43,43,"removePushTokenSubscription"],[56,39,43,44,"subscription"],[56,51,43,56],[56,53,43,58],[57,4,44,4,"subscription"],[57,16,44,16],[57,17,44,17,"remove"],[57,23,44,23],[57,24,44,24],[57,25,44,25],[58,2,45,0],[59,0,45,1],[59,3]],"functionMap":{"names":["<global>","addPushTokenListener","wrappingListener","removePushTokenSubscription"],"mappings":"AAA;OCgC;6BCE,+ED;CDE;OGM;CHE"}},"type":"js/module"}]}