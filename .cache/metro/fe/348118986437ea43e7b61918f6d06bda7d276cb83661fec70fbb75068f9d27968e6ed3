{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.cleanupEffect = exports.observable = void 0;\n  function observable(value) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      fallback = _ref.fallback,\n      name = _ref.name;\n    var effects = new Set();\n    return {\n      name,\n      get(effect) {\n        if (effect) {\n          effects.add(effect);\n          effect.dependencies.add(() => effects.delete(effect));\n        }\n        return value ?? fallback?.get(effect);\n      },\n      set(newValue) {\n        if (Object.is(newValue, value)) return;\n        value = newValue;\n        for (var effect of [...effects]) {\n          effect.rerun();\n        }\n      }\n    };\n  }\n  exports.observable = observable;\n  function cleanupEffect(effect) {\n    for (var dep of effect.dependencies) {\n      dep();\n    }\n    effect.dependencies.clear();\n  }\n  exports.cleanupEffect = cleanupEffect;\n});","lineCount":39,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"cleanupEffect"],[7,23,3,21],[7,26,3,24,"exports"],[7,33,3,31],[7,34,3,32,"observable"],[7,44,3,42],[7,47,3,45],[7,52,3,50],[7,53,3,51],[8,2,4,0],[8,11,4,9,"observable"],[8,21,4,19,"observable"],[8,22,4,20,"value"],[8,27,4,25],[8,29,4,52],[9,4,4,52],[9,8,4,52,"_ref"],[9,12,4,52],[9,15,4,52,"arguments"],[9,24,4,52],[9,25,4,52,"length"],[9,31,4,52],[9,39,4,52,"arguments"],[9,48,4,52],[9,56,4,52,"undefined"],[9,65,4,52],[9,68,4,52,"arguments"],[9,77,4,52],[9,83,4,48],[9,84,4,49],[9,85,4,50],[10,6,4,29,"fallback"],[10,14,4,37],[10,17,4,37,"_ref"],[10,21,4,37],[10,22,4,29,"fallback"],[10,30,4,37],[11,6,4,39,"name"],[11,10,4,43],[11,13,4,43,"_ref"],[11,17,4,43],[11,18,4,39,"name"],[11,22,4,43],[12,4,5,4],[12,8,5,10,"effects"],[12,15,5,17],[12,18,5,20],[12,22,5,24,"Set"],[12,25,5,27],[12,26,5,28],[12,27,5,29],[13,4,6,4],[13,11,6,11],[14,6,7,8,"name"],[14,10,7,12],[15,6,8,8,"get"],[15,9,8,11,"get"],[15,10,8,12,"effect"],[15,16,8,18],[15,18,8,20],[16,8,9,12],[16,12,9,16,"effect"],[16,18,9,22],[16,20,9,24],[17,10,10,16,"effects"],[17,17,10,23],[17,18,10,24,"add"],[17,21,10,27],[17,22,10,28,"effect"],[17,28,10,34],[17,29,10,35],[18,10,11,16,"effect"],[18,16,11,22],[18,17,11,23,"dependencies"],[18,29,11,35],[18,30,11,36,"add"],[18,33,11,39],[18,34,11,40],[18,40,11,46,"effects"],[18,47,11,53],[18,48,11,54,"delete"],[18,54,11,60],[18,55,11,61,"effect"],[18,61,11,67],[18,62,11,68],[18,63,11,69],[19,8,12,12],[20,8,13,12],[20,15,13,19,"value"],[20,20,13,24],[20,24,13,28,"fallback"],[20,32,13,36],[20,34,13,38,"get"],[20,37,13,41],[20,38,13,42,"effect"],[20,44,13,48],[20,45,13,49],[21,6,14,8],[21,7,14,9],[22,6,15,8,"set"],[22,9,15,11,"set"],[22,10,15,12,"newValue"],[22,18,15,20],[22,20,15,22],[23,8,16,12],[23,12,16,16,"Object"],[23,18,16,22],[23,19,16,23,"is"],[23,21,16,25],[23,22,16,26,"newValue"],[23,30,16,34],[23,32,16,36,"value"],[23,37,16,41],[23,38,16,42],[23,40,17,16],[24,8,18,12,"value"],[24,13,18,17],[24,16,18,20,"newValue"],[24,24,18,28],[25,8,19,12],[25,13,19,17],[25,17,19,23,"effect"],[25,23,19,29],[25,27,19,33],[25,28,19,34],[25,31,19,37,"effects"],[25,38,19,44],[25,39,19,45],[25,41,19,47],[26,10,20,16,"effect"],[26,16,20,22],[26,17,20,23,"rerun"],[26,22,20,28],[26,23,20,29],[26,24,20,30],[27,8,21,12],[28,6,22,8],[29,4,23,4],[29,5,23,5],[30,2,24,0],[31,2,25,0,"exports"],[31,9,25,7],[31,10,25,8,"observable"],[31,20,25,18],[31,23,25,21,"observable"],[31,33,25,31],[32,2,26,0],[32,11,26,9,"cleanupEffect"],[32,24,26,22,"cleanupEffect"],[32,25,26,23,"effect"],[32,31,26,29],[32,33,26,31],[33,4,27,4],[33,9,27,9],[33,13,27,15,"dep"],[33,16,27,18],[33,20,27,22,"effect"],[33,26,27,28],[33,27,27,29,"dependencies"],[33,39,27,41],[33,41,27,43],[34,6,28,8,"dep"],[34,9,28,11],[34,10,28,12],[34,11,28,13],[35,4,29,4],[36,4,30,4,"effect"],[36,10,30,10],[36,11,30,11,"dependencies"],[36,23,30,23],[36,24,30,24,"clear"],[36,29,30,29],[36,30,30,30],[36,31,30,31],[37,2,31,0],[38,2,32,0,"exports"],[38,9,32,7],[38,10,32,8,"cleanupEffect"],[38,23,32,21],[38,26,32,24,"cleanupEffect"],[38,39,32,37],[39,0,32,38],[39,3]],"functionMap":{"names":["<global>","observable","get","effect.dependencies.add$argument_0","set","cleanupEffect"],"mappings":"AAA;ACG;QCI;wCCG,4BD;SDG;QGC;SHO;CDE;AKE;CLK"}},"type":"js/module"}]}